# Celery configuration
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# Database configuration (for analytics tasks)
DATABASE_URL=postgresql://admin:your_password@postgres:5432/creator_split_db

# Backend webhook configuration
BACKEND_BASE_URL=http://backend:3000
ANALYTICS_WEBHOOK_TOKEN=your-analytics-webhook-token

# Subscription pricing (in Wei, default 0.1 ETH)
SUBSCRIPTION_PRICE_WEI=100000000000000000

# Anomaly detection parameters
ANOMALY_DETECTION_THRESHOLD=0.95
ANALYSIS_WINDOW_DAYS=30
IQR_MULTIPLIER=1.5
ZSCORE_THRESHOLD=3.0
ISO_MIN_SAMPLES=20

# Task scheduling (in minutes)
SCHEDULE_MINUTES=5

# Alert deduplication (in seconds, default 7 days)
ALERT_TTL_SECONDS=604800

# Redis keys for watermarks
WATERMARK_KEY_BLOCK=an:wm:block
WATERMARK_KEY_LOG=an:wm:log
DEDUP_PREFIX=an:dup:

# Scan limits
MAX_ROWS_PER_SCAN=5000

# Optional whitelist (comma-separated Ethereum addresses)
WHITELIST_ADDRESSES=

# Feature flags for detection rules
USE_IQR=true
USE_ZSCORE=true
USE_ISO=true